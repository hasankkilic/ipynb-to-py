<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>tool-convert.com – Simple in-browser converters</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Buraya favicon ekleyebilirsin <link rel="icon" type="image/png" href="favicon.png" /> -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>
<div class="page">
  <!-- NAVBAR -->
  <header class="navbar">
    <div class="logo">
      <div class="logo-badge">TC</div>
      <div>
        <div>tool-convert.com</div>
        <div class="logo-text-small">Simple in-browser converters</div>
      </div>
    </div>
    <nav class="nav-links">
      <a class="nav-link nav-link-primary" href="#ipynb-to-py">IPYNB → PY</a>
      <a class="nav-link" href="#converters">Converters</a>
      <a class="nav-link" href="#contact">Contact</a>
    </nav>
  </header>

  <!-- MAIN TOOL -->
  <main id="ipynb-to-py">
    <div class="layout">
      <!-- LEFT: UPLOADER -->
      <section class="card">
        <div class="crumb">
          <span class="crumb-dot"></span>
          IPYNB to Python Converter
        </div>
        <h1>IPYNB to Python Converter</h1>
        <p class="subtitle">
          Drag &amp; drop a <strong>.ipynb</strong> notebook or click the area below.
          We’ll extract the code cells and generate a clean <strong>.py</strong> file.
        </p>
        <div class="pill-row">
          <div class="pill">No signup</div>
          <div class="pill pill-soft">Runs in your browser</div>
          <div class="pill pill-soft">Keeps cell order</div>
        </div>
        <div id="drop-zone" class="drop-zone">
          <div class="drop-title">Drop your <strong>.ipynb</strong> file here</div>
          <div class="drop-subtitle">
            or click anywhere in this box to select a file
          </div>
          <button class="primary-btn" type="button" id="choose-btn">
            Choose notebook
            <small> (.ipynb) </small>
          </button>
          <input
            type="file"
            id="file-input"
            accept=".ipynb,application/json"
            style="display:none"
          />
          <div class="hint-row">
            <span>Only Jupyter Notebook files (<strong>.ipynb</strong>) are supported.</span>
            <br />
            <span>Works locally in the browser · Best for Jupyter / Colab notebooks.</span>
          </div>
        </div>
      </section>

      <!-- RIGHT: PREVIEW -->
      <section class="card preview-card">
        <div class="preview-header">
          <div class="preview-title">Python output preview</div>
          <div class="preview-subtitle">
            Preview of the generated Python file.
          </div>
        </div>
        <div class="preview-box">
          <div class="preview-scroll" id="output-preview">
# Converted from Jupyter Notebook
# tool-convert.com – IPYNB → PY
# Cell 1
# ----------------------------------------
# Your converted Python code will appear here
# after you drop a .ipynb file on the left.
          </div>
          <div class="preview-meta">
            <span id="file-meta">No file loaded</span>
            <a
              id="download-link"
              class="download-link"
              href="#"
              download="notebook.py"
              style="pointer-events:none; opacity:0.4;"
            >
              Download .py file
            </a>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- CONVERTERS SECTION -->
  <section id="converters">
    <h2 class="section-title">Converters</h2>
    <p class="section-subtitle">
      A small toolbox of browser-based utilities. Only the first converter is active
      for now; the others are coming soon.
    </p>

    <div class="tools-row">
      <div class="tool-card">
        <div>
          <div class="tool-card-header">
            <div class="tool-name">IPYNB → PY Converter</div>
            <span class="tool-badge-active">Active</span>
          </div>
          <p class="tool-desc">
            Extracts code cells from a Jupyter notebook and builds a clean
            Python file.
          </p>
        </div>
        <div class="tool-footer">
          <span>Runs fully in your browser</span>
          <button
            class="tool-open-btn"
            type="button"
            onclick="scrollToTool()"
          >
            Open tool
          </button>
        </div>
      </div>

      <div class="tool-card">
        <div>
          <div class="tool-card-header">
            <div class="tool-name">PY → IPYNB</div>
            <span class="tool-badge-soon">Soon</span>
          </div>
          <p class="tool-desc">
            Turn a Python script back into a simple Jupyter notebook with one
            cell per block.
          </p>
        </div>
        <div class="tool-footer">
          <span>Planned feature</span>
          <button class="tool-open-btn" type="button" disabled>
            Open tool
          </button>
        </div>
      </div>

      <div class="tool-card">
        <div>
          <div class="tool-card-header">
            <div class="tool-name">JSON Beautifier</div>
            <span class="tool-badge-soon">Soon</span>
          </div>
          <p class="tool-desc">
            Paste JSON and get nicely formatted, human-readable output with
            validation.
          </p>
        </div>
        <div class="tool-footer">
          <span>Planned feature</span>
          <button class="tool-open-btn" type="button" disabled>
            Open tool
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- CONTACT SECTION -->
  <section id="contact">
    <h2 class="section-title">Contact</h2>
    <p class="section-subtitle">
      For feedback, feature ideas or bug reports you can reach Hasan at:
    </p>
    <p style="margin-top:10px; font-size:0.96rem;">
      <strong>Email:</strong>
      <a href="mailto:hhgkilic@gmail.com">hhgkilic@gmail.com</a>
    </p>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    tool-convert.com · Simple in-browser converters
  </footer>
</div>

<script>
  // Smooth scroll from "Open tool" button in Converters section
  function scrollToTool() {
    const el = document.getElementById("ipynb-to-py");
    if (el) {
      el.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  }

  const dropZone = document.getElementById("drop-zone");
  const fileInput = document.getElementById("file-input");
  const chooseBtn = document.getElementById("choose-btn");
  const previewEl = document.getElementById("output-preview");
  const fileMeta = document.getElementById("file-meta");
  const downloadLink = document.getElementById("download-link");
  let lastPyBlobUrl = null;

  function setDownloadContent(pyText, filename) {
    if (lastPyBlobUrl) {
      URL.revokeObjectURL(lastPyBlobUrl);
    }
    const blob = new Blob([pyText], { type: "text/x-python" });
    lastPyBlobUrl = URL.createObjectURL(blob);
    downloadLink.href = lastPyBlobUrl;
    downloadLink.download = filename || "notebook.py";
    downloadLink.style.pointerEvents = "auto";
    downloadLink.style.opacity = "1";
  }

  function updatePreviewPlaceholder() {
    previewEl.textContent =
      "# Converted from Jupyter Notebook\n" +
      "# tool-convert.com – IPYNB → PY\n\n" +
      "# Cell 1\n" +
      "# ----------------------------------------\n" +
      "# Your converted Python code will appear here\n" +
      "# after you drop a .ipynb file on the left.";
    fileMeta.textContent = "No file loaded";
    downloadLink.style.pointerEvents = "none";
    downloadLink.style.opacity = "0.4";
  }

  function convertIpynbToPy(text, fileName) {
    try {
      const data = JSON.parse(text);
      const cells = Array.isArray(data.cells) ? data.cells : [];
      const lines = [];

      lines.push("# Converted from Jupyter Notebook");
      lines.push("# tool-convert.com – IPYNB → PY");
      if (fileName) {
        lines.push("# Source: " + fileName);
      }
      lines.push("");

      let codeCellIndex = 0;
      cells.forEach((cell) => {
        if (cell.cell_type === "code") {
          codeCellIndex += 1;
          lines.push("# Cell " + codeCellIndex);
          lines.push("#" + "-".repeat(40));

          const src = Array.isArray(cell.source) ? cell.source : [];
          src.forEach((line) => {
            lines.push(line.replace(/\r?\n$/, ""));
          });
          lines.push("");
        }
      });

      if (codeCellIndex === 0) {
        lines.push("# (No code cells were found in this notebook.)");
      }

      return lines.join("\n");
    } catch (err) {
      console.error("Conversion error:", err);
      return (
        "# Failed to parse .ipynb file.\n" +
        "# Make sure you uploaded a valid Jupyter notebook.\n" +
        "# Error: " +
        (err && err.message ? err.message : String(err))
      );
    }
  }

  function handleFile(file) {
    if (!file) return;

    const reader = new FileReader();
    reader.onload = (ev) => {
      const text = String(ev.target.result || "");
      const py = convertIpynbToPy(text, file.name || "");

      previewEl.textContent = py;
      fileMeta.textContent = file.name + " (" + file.size + " bytes)";

      setDownloadContent(
        py,
        (file.name || "notebook").replace(/\.ipynb$/i, "") + ".py"
      );
    };
    reader.onerror = () => {
      previewEl.textContent =
        "# Failed to read file.\n# Please try again with a valid .ipynb notebook.";
      fileMeta.textContent = "Read error";
      downloadLink.style.pointerEvents = "none";
      downloadLink.style.opacity = "0.4";
    };

    reader.readAsText(file);
  }

  // Click on button → open file dialog
  chooseBtn.addEventListener("click", () => fileInput.click());
  dropZone.addEventListener("click", () => fileInput.click());

  // file input change
  fileInput.addEventListener("change", (e) => {
    const file = e.target.files && e.target.files[0];
    if (file) {
      handleFile(file);
    }
  });

  // drag & drop events
  dropZone.addEventListener("dragover", (e) => {
    e.preventDefault();
    dropZone.classList.add("drag-over");
  });

  dropZone.addEventListener("dragleave", (e) => {
    e.preventDefault();
    dropZone.classList.remove("drag-over");
  });

  dropZone.addEventListener("drop", (e) => {
    e.preventDefault();
    dropZone.classList.remove("drag-over");
    const file =
      e.dataTransfer && e.dataTransfer.files && e.dataTransfer.files[0];
    if (file) {
      handleFile(file);
    }
  });

  // initial state
  updatePreviewPlaceholder();
</script>
</body>
</html>
